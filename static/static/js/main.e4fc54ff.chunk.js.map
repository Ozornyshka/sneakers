{"version":3,"sources":["components/Drawer/Drawer.module.scss","components/Card/Card.module.scss","context.js","hooks/useCart.js","components/Header.jsx","components/Info.jsx","components/Drawer/Drawer.js","components/Card/Card.js","pages/Home.jsx","pages/Favorites.jsx","pages/Orders.jsx","App.jsx","index.js"],"names":["module","exports","AppContext","React","createContext","useCart","useContext","cartItems","setCartItems","totalPrice","reduce","sum","obj","price","Header","props","className","to","width","height","src","alt","onClick","onClickCart","Info","title","image","description","setCartOpened","delay","ms","Promise","resolve","setTimeout","Drawer","onClose","items","onRemove","opened","useState","orderId","setOrderId","isOrderComplete","setIsOrderComplete","isLoading","setIsLoading","onClickOrder","a","axios","post","data","id","i","length","item","delete","alert","styles","overlay","overlayVisible","drawer","map","style","backgroundImage","imageUrl","cartTotalBlock","Math","round","disabled","Card","onFavorite","onPlus","favorited","loading","isItemAdded","isFavorite","setIsFavorite","parentId","card","speed","viewBox","backgroundColor","foregroundColor","x","y","rx","ry","favorite","plus","Home","searchValue","setSearchValue","onChangeSearchInput","onAddToFavorite","onAddToCart","onChange","type","placeholder","value","filtredItems","filter","toLowerCase","includes","Array","index","renderItems","Favorites","favorites","Orders","orders","setOrders","useEffect","get","prev","console","error","App","setItems","setFavorites","cartOpened","all","cartResponse","favoritesResponse","itemsResponse","fetchData","findItem","find","Number","favObj","Provider","some","path","exact","event","target","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e4fc54ff.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Drawer_overlay__E50oV\",\"overlayVisible\":\"Drawer_overlayVisible__1ZOXT\",\"drawer\":\"Drawer_drawer__1lDz_\",\"items\":\"Drawer_items__1v7oD\",\"cartTotalBlock\":\"Drawer_cartTotalBlock__2a5fu\",\"greenBtn\":\"Drawer_greenBtn__2VLEI\",\"button-loading\":\"Drawer_button-loading__1uFzK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"Card_card__3x0h7\",\"plus\":\"Card_plus__1Bcyt\",\"favorite\":\"Card_favorite__3z7-P\"};","import React from \"react\";\r\n\r\nconst AppContext = React.createContext({});\r\n\r\nexport default AppContext;\r\n","import AppContext from \"../context\";\r\nimport React from \"react\";\r\n\r\nexport const useCart = () => {\r\n  const { cartItems, setCartItems } = React.useContext(AppContext);\r\n  const totalPrice = cartItems.reduce((sum, obj) => obj.price + sum, 0);\r\n\r\n  return { cartItems, setCartItems, totalPrice };\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useCart } from \"../hooks/useCart\";\r\n\r\nfunction Header(props) {\r\n  const { totalPrice } = useCart();\r\n\r\n  return (\r\n    <header className=\"d-flex justify-between align-center p-40\">\r\n      <Link to=\"/\">\r\n        <div className=\"d-flex align-center\">\r\n          <img width={40} height={40} src=\"/img/logo.png\" alt=\"logo\" />\r\n          <div>\r\n            <h3 className=\"text-uppercase\">React Sneakers</h3>\r\n            <p className=\"opacity-5\">Магазин лучших кросовок</p>\r\n          </div>\r\n        </div>\r\n      </Link>\r\n      <ul className=\"d-flex\">\r\n        <li onClick={props.onClickCart} className=\"mr-30 cu-p\">\r\n          <img width={18} height={18} src=\"/img/cart.svg\" alt=\"cart\" />\r\n          <span>{totalPrice} руб.</span>\r\n        </li>\r\n        <li className=\"mr-20 cu-p\">\r\n          <Link to=\"/favorites\">\r\n            <img width={18} height={18} src=\"/img/heart.svg\" alt=\"Закладки\" />\r\n          </Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/orders\">\r\n            <img\r\n              width={18}\r\n              height={18}\r\n              src=\"/img/user.svg\"\r\n              alt=\"Пользователь\"\r\n            />\r\n          </Link>\r\n        </li>\r\n      </ul>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport AppContext from \"../context\";\r\n\r\nconst Info = ({ title, image, description }) => {\r\n  const { setCartOpened } = React.useContext(AppContext);\r\n  return (\r\n    <div className=\"cartEmpty d-flex align-center justify-center flex-column flex\">\r\n      <img className=\"mb-20\" width=\"120px\" src={image} alt=\"cart\" />\r\n      <h2>{title}</h2>\r\n      <p className=\"opacity-6\">{description}</p>\r\n      <button onClick={() => setCartOpened(false)} className=\"greenBtn\">\r\n        <img src=\"/img/arrow.svg\" alt=\"Arrow\" />\r\n        Вернуться назад\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Info;\r\n","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport Info from \"../Info\";\r\nimport { useCart } from \"../../hooks/useCart\";\r\nimport styles from \"./Drawer.module.scss\";\r\n\r\nconst delay = (ms) => new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nfunction Drawer({ onClose, items = [], onRemove, opened }) {\r\n  const { cartItems, setCartItems, totalPrice } = useCart();\r\n  const [orderId, setOrderId] = React.useState(null);\r\n  const [isOrderComplete, setIsOrderComplete] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\r\n  const onClickOrder = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      const { data } = await axios.post(\r\n        \"https://60e45b245bcbca001749e8f1.mockapi.io/orders\",\r\n        { items: cartItems }\r\n      );\r\n      setOrderId(data.id);\r\n      setIsOrderComplete(true);\r\n      setCartItems([]);\r\n\r\n      for (let i = 0; i < cartItems.length; i++) {\r\n        const item = cartItems[i];\r\n        axios.delete(\r\n          \"https://60e45b245bcbca001749e8f1.mockapi.io/cart\" + item.id\r\n        );\r\n        await delay(1000);\r\n      }\r\n    } catch (error) {\r\n      alert(\"Ошибка при создании заказа :(\");\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  return (\r\n    <div className={`${styles.overlay} ${opened ? styles.overlayVisible : \"\"}`}>\r\n      <div className={styles.drawer}>\r\n        <h2 className=\"mb-30 d-flex justify-between align-center\">\r\n          Корзина\r\n          <img\r\n            onClick={onClose}\r\n            className=\"removeBtn cu-p\"\r\n            width={32}\r\n            height={32}\r\n            src=\"/img/btn-remove.svg\"\r\n            alt=\"remove\"\r\n          />\r\n        </h2>\r\n        {items.length > 0 ? (\r\n          <div className=\"d-flex flex-column flex\">\r\n            <div className={styles.items}>\r\n              {items.map((obj) => (\r\n                <div key={obj.title} className=\"cartItem d-flex align-center\">\r\n                  <div\r\n                    style={{ backgroundImage: `url(${obj.imageUrl})` }}\r\n                    className=\"cartItemImg\"\r\n                  ></div>\r\n                  <div className=\"mr-20 flex\">\r\n                    <p className=\"mb-5\">{obj.title}</p>\r\n                    <b>{obj.price} руб.</b>\r\n                  </div>\r\n                  <img\r\n                    onClick={() => onRemove(obj.id)}\r\n                    className=\"removeBtn\"\r\n                    width={32}\r\n                    height={32}\r\n                    src=\"/img/btn-remove.svg\"\r\n                    alt=\"remove\"\r\n                  />\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <div className={styles.cartTotalBlock}>\r\n              <ul>\r\n                <li>\r\n                  <span>Итого:</span>\r\n                  <div></div>\r\n                  <b>{totalPrice} руб. </b>\r\n                </li>\r\n                <li>\r\n                  <span>Скидка 5%: </span>\r\n                  <div></div>\r\n                  <b>{Math.round(totalPrice * 0.05)} руб. </b>\r\n                </li>\r\n              </ul>\r\n              <button\r\n                disabled={isLoading}\r\n                onClick={onClickOrder}\r\n                className=\"greenBtn\"\r\n              >\r\n                Оформить заказ <img src=\"/img/arrow.svg\" alt=\"arrow\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <Info\r\n            title={isOrderComplete ? \"Заказ оформлен!\" : \"Корзина пустая\"}\r\n            description={\r\n              isOrderComplete\r\n                ? `Ваш заказ #${orderId} скоро будет передан курьерской доставке`\r\n                : \" Добавте хотя бы одну пару кроссовок чтобы сделать заказ.\"\r\n            }\r\n            image={\r\n              isOrderComplete\r\n                ? \"/img/complete-order.jpg\"\r\n                : \"/img/empty-cart.jpg\"\r\n            }\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Drawer;\r\n","import React from \"react\";\r\nimport styles from \"./Card.module.scss\";\r\nimport ContentLoader from \"react-content-loader\";\r\nimport AppContext from \"../../context\";\r\n\r\nfunction Card({\r\n  id,\r\n  onFavorite,\r\n  title,\r\n  price,\r\n  imageUrl,\r\n  onPlus,\r\n  favorited = false,\r\n  loading = false,\r\n}) {\r\n  const { isItemAdded } = React.useContext(AppContext);\r\n  const [isFavorite, setIsFavorite] = React.useState(favorited);\r\n  const obj = { id, parentId: id, title, price, imageUrl };\r\n\r\n  const onClickPlus = () => {\r\n    onPlus(obj);\r\n  };\r\n  const onClickFavorite = () => {\r\n    onFavorite(obj);\r\n    setIsFavorite(!isFavorite);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.card}>\r\n      {loading ? (\r\n        <ContentLoader\r\n          speed={2}\r\n          width={170}\r\n          height={265}\r\n          viewBox=\"0 0 155 265\"\r\n          backgroundColor=\"#f3f3f3\"\r\n          foregroundColor=\"#ecebeb\"\r\n        >\r\n          <rect x=\"1\" y=\"0\" rx=\"10\" ry=\"10\" width=\"155\" height=\"155\" />\r\n          <rect x=\"0\" y=\"167\" rx=\"5\" ry=\"5\" width=\"155\" height=\"15\" />\r\n          <rect x=\"0\" y=\"187\" rx=\"5\" ry=\"5\" width=\"100\" height=\"15\" />\r\n          <rect x=\"1\" y=\"234\" rx=\"5\" ry=\"5\" width=\"80\" height=\"25\" />\r\n          <rect x=\"124\" y=\"230\" rx=\"10\" ry=\"10\" width=\"32\" height=\"32\" />\r\n        </ContentLoader>\r\n      ) : (\r\n        <>\r\n          {onFavorite && (\r\n            <div className={styles.favorite} onClick={onClickFavorite}>\r\n              <img\r\n                src={isFavorite ? \"/img/liked.svg\" : \"/img/unliked.svg\"}\r\n                alt=\"unliked\"\r\n              />\r\n            </div>\r\n          )}\r\n          <img width={133} height={113} src={imageUrl} alt=\"Sneakers\" />\r\n          <h5>{title}</h5>\r\n          <div className=\"d-flex justify-between align-center\">\r\n            <div className=\"d-flex flex-column\">\r\n              <span>Цена:</span>\r\n              <b>{price} руб.</b>\r\n            </div>\r\n            {onPlus && (\r\n              <img\r\n                className={styles.plus}\r\n                onClick={onClickPlus}\r\n                src={\r\n                  isItemAdded(id) ? \"/img/btn-checked.svg\" : \"/img/btn-plus.svg\"\r\n                }\r\n                alt=\"Plus\"\r\n              />\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;\r\n","import React from \"react\";\r\n\r\nimport Card from \"../components/Card/Card\";\r\n\r\nfunction Home({\r\n  items,\r\n  searchValue,\r\n  setSearchValue,\r\n  onChangeSearchInput,\r\n  onAddToFavorite,\r\n  onAddToCart,\r\n  isLoading,\r\n}) {\r\n  const renderItems = () => {\r\n    const filtredItems = items.filter((item) =>\r\n      item.title.toLowerCase().includes(searchValue.toLowerCase())\r\n    );\r\n    return (isLoading ? [...Array(8)] : filtredItems).map((item, index) => (\r\n      <Card\r\n        key={index}\r\n        {...item}\r\n        onFavorite={(obj) => onAddToFavorite(obj)}\r\n        onPlus={(obj) => onAddToCart(obj)}\r\n        loading={isLoading}\r\n      />\r\n    ));\r\n  };\r\n  return (\r\n    <div className=\"content p-40 \">\r\n      <div className=\"d-flex align-center mb-40 justify-between\">\r\n        <h1>\r\n          {searchValue ? `Поиск по запросу: \"${searchValue}\"` : \"Все кроссовки\"}\r\n        </h1>\r\n        <div className=\"search-block d-flex\">\r\n          <img src=\"/img/search.svg\" alt=\"Search\" />\r\n          {searchValue && (\r\n            <img\r\n              onClick={() => setSearchValue(\"\")}\r\n              className=\"clear cu-p\"\r\n              src=\"/img/btn-remove.svg\"\r\n              alt=\"clear\"\r\n            />\r\n          )}\r\n          <input\r\n            onChange={onChangeSearchInput}\r\n            type=\"text\"\r\n            placeholder=\"Поиск ...\"\r\n            value={searchValue}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">{renderItems()}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport Card from \"../components/Card/Card\";\r\nimport AppContext from \"../context\";\r\n\r\nfunction Favorites() {\r\n  const { favorites, onAddToFavorite } = React.useContext(AppContext);\r\n  return (\r\n    <div className=\"content p-40 \">\r\n      <div className=\"d-flex align-center mb-40 justify-between\">\r\n        <h1>Мои закладки</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {favorites.map((item, index) => (\r\n          <Card\r\n            key={index}\r\n            favorited={true}\r\n            onFavorite={onAddToFavorite}\r\n            {...item}\r\n          />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Favorites;\r\n","import axios from \"axios\";\r\nimport React from \"react\";\r\nimport Card from \"../components/Card/Card\";\r\nimport AppContext from \"../context\";\r\n\r\nfunction Orders() {\r\n  const { onAddToCart, onAddToFavorite } = React.useContext(AppContext);\r\n  const [orders, setOrders] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n  React.useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await axios.get(\r\n          \"https://60e45b245bcbca001749e8f1.mockapi.io/orders\"\r\n        );\r\n        setOrders(data.reduce((prev, obj) => [...prev, ...obj.items], []));\r\n        setIsLoading(false);\r\n      } catch (error) {\r\n        alert(\"Ошибка при запросе заказов\");\r\n        console.error(error);\r\n      }\r\n    })();\r\n  }, []);\r\n  return (\r\n    <div className=\"content p-40 \">\r\n      <div className=\"d-flex align-center mb-40 justify-between\">\r\n        <h1>Мои заказы</h1>\r\n      </div>\r\n\r\n      <div className=\"d-flex flex-wrap\">\r\n        {(isLoading ? [...Array(8)] : orders).map((item, index) => (\r\n          <Card key={index} {...item} loading={isLoading} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Orders;\r\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Header from \"./components/Header\";\nimport AppContext from \"./context\";\nimport Drawer from \"./components/Drawer/Drawer\";\n\nimport Home from \"./pages/Home\";\nimport Favorites from \"./pages/Favorites\";\nimport Orders from \"./pages/Orders\";\n\nfunction App() {\n  const [items, setItems] = React.useState([]);\n  const [cartItems, setCartItems] = React.useState([]);\n  const [favorites, setFavorites] = React.useState([]);\n  const [searchValue, setSearchValue] = React.useState(\"\");\n  const [cartOpened, setCartOpened] = React.useState(false);\n  const [isLoading, setIsLoading] = React.useState(true);\n\n  React.useEffect(() => {\n    async function fetchData() {\n      try {\n        const [cartResponse, favoritesResponse, itemsResponse] =\n          await Promise.all([\n            axios.get(\"https://60e45b245bcbca001749e8f1.mockapi.io/cart\"),\n            axios.get(\"https://60e45b245bcbca001749e8f1.mockapi.io/favorites\"),\n            axios.get(\"https://60e45b245bcbca001749e8f1.mockapi.io/items\"),\n          ]);\n\n        setIsLoading(false);\n        setCartItems(cartResponse.data);\n        setFavorites(favoritesResponse.data);\n        setItems(itemsResponse.data);\n      } catch (error) {\n        alert(\"Ошибка при запросе данных ;(\");\n        console.error(error);\n      }\n    }\n\n    fetchData();\n  }, []);\n\n  const onAddToCart = async (obj) => {\n    try {\n      const findItem = cartItems.find(\n        (item) => Number(item.parentId) === Number(obj.id)\n      );\n      if (findItem) {\n        setCartItems((prev) =>\n          prev.filter((item) => Number(item.parentId) !== Number(obj.id))\n        );\n        await axios.delete(\n          `https://60e45b245bcbca001749e8f1.mockapi.io/cart/${findItem.id}`\n        );\n      } else {\n        setCartItems((prev) => [...prev, obj]);\n        const { data } = await axios.post(\n          \"https://60e45b245bcbca001749e8f1.mockapi.io/cart\",\n          obj\n        );\n        setCartItems((prev) =>\n          prev.map((item) => {\n            if (item.parentId === data.parentId) {\n              return {\n                ...item,\n                id: data.id,\n              };\n            }\n            return item;\n          })\n        );\n      }\n    } catch (error) {\n      alert(\"Ошибка при добавлении в корзину\");\n      console.error(error);\n    }\n  };\n\n  const onRemoveItem = (id) => {\n    try {\n      axios.delete(`https://60e45b245bcbca001749e8f1.mockapi.io/cart/${id}`);\n      setCartItems((prev) =>\n        prev.filter((item) => Number(item.id) !== Number(id))\n      );\n    } catch (error) {\n      alert(\"Ошибка при удалении из корзины\");\n      console.error(error);\n    }\n  };\n\n  const onAddToFavorite = async (obj) => {\n    try {\n      if (favorites.find((favObj) => Number(favObj.id) === Number(obj.id))) {\n        axios.delete(\n          `https://60e45b245bcbca001749e8f1.mockapi.io/favorites/${obj.id}`\n        );\n        setFavorites((prev) =>\n          prev.filter((item) => Number(item.id) !== Number(obj.id))\n        );\n      } else {\n        const { data } = await axios.post(\n          \"https://60e45b245bcbca001749e8f1.mockapi.io/favorites\",\n          obj\n        );\n        setFavorites((prev) => [...prev, data]);\n      }\n    } catch (error) {\n      alert(\"Не удалось добавить в фавориты\");\n      console.error(error);\n    }\n  };\n\n  const onChangeSearchInput = (event) => {\n    setSearchValue(event.target.value);\n  };\n\n  const isItemAdded = (id) => {\n    return cartItems.some((obj) => Number(obj.parentId) === Number(id));\n  };\n\n  return (\n    <AppContext.Provider\n      value={{\n        items,\n        cartItems,\n        favorites,\n        isItemAdded,\n        onAddToFavorite,\n        onAddToCart,\n        setCartOpened,\n        setCartItems,\n      }}\n    >\n      <div className=\"wrapper clear\">\n        <Drawer\n          items={cartItems}\n          onClose={() => setCartOpened(false)}\n          onRemove={onRemoveItem}\n          opened={cartOpened}\n        />\n\n        <Header onClickCart={() => setCartOpened(true)} />\n\n        <Route path=\"\" exact>\n          <Home\n            items={items}\n            cartItems={cartItems}\n            searchValue={searchValue}\n            setSearchValue={setSearchValue}\n            onChangeSearchInput={onChangeSearchInput}\n            onAddToFavorite={onAddToFavorite}\n            onAddToCart={onAddToCart}\n            isLoading={isLoading}\n          />\n        </Route>\n\n        <Route path=\"favorites\" exact>\n          <Favorites />\n        </Route>\n\n        <Route path=\"orders\" exact>\n          <Orders />\n        </Route>\n      </div>\n    </AppContext.Provider>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport \"macro-css\";\nimport App from \"./App\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}